Grammar = { SOI ~ Expr* ~ EOI }

// "1" is a bogus expression for now to play  with
SimpleExpr = { "1" | "(" ~ Expr ~ ")" }

Expr = { SimpleExpr | IfExpr }

IfExpr = { "if" ~ SimpleExpr ~ "then" ~ IfBody }
    IfBody = { (":" ~ Expr+ ~ ("end" | Else)) | Expr ~ Else? }
    Else = { "else" ~ IfBody }

// Tokens

WHITESPACE = _{ " " | "\t" | "\n" | "\r\n" }
